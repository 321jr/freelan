version: 3.0-{build}

environment:
  BOOST_ROOT: C:\Libraries\Boost

platform:
  - x86
  - x64

configuration:
  - Debug
  - Release

before_build:
  - cmd: cmake -G "Visual Studio 12 2013" -DBOOST_ROOT=%BOOST_ROOT% .

build:
  project: FreeLAN.sln
  parallel: true
  verbosity: normal

after_build:
  - msbuild INSTALL.vcxproj

test_script:
  - install\bin\freelan_tests

notifications:
  - provider: Email
    on_build_success: false
    on_build_failure: false
    on_build_status_changed: true
